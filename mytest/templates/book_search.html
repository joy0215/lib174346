{% extends 'base.html' %}

{% block content %}
<h1 style="font-family: 微軟正黑體; font-size: 18pt; font-weight: bold; color: #00008B; margin-top: 20px;">搜尋書籍</h1>

  <form action="{% url 'book_search' %}" method="get">
    <input type="text" name="query" value="{{ query }}" />
    <input type="submit" value="Search" />
  </form>

  {% if query %}
    {% if posts %}
    <h2 style="font-family:微軟正黑體; font-size: 20pt; color:#FFF4C1; margin-left: 10px; margin-bottom: 0px; padding: 10px">有關 "{{ query }}"的搜尋結果

    </h2>
      <ul>
        {% for post in posts %}
          <li>
            <h2>{{ post.title }}</h2>
            <p><strong>書籍名稱:</strong> {{ post.title }}</p>
            <p><strong>作者名稱：</strong> {{ post.write }}</p>
            <p><strong>建議售價:</strong> {{ post.intro }}</p>
            <p><strong>借閱狀態:</strong> {{ post.formatted_is_borrow|safe }}</p>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No results found for "{{ query }}"</p>
    {% endif %}
  {% endif %}
{% endblock %}
